@import "tailwindcss";

/* Cart merge notification animations */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-out-right {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

.animate-slide-out-right {
  animation: slide-out-right 0.3s ease-in;
}

:root {
  /* Light theme base (refined) */
  --background: #faf4e8; /* airy warm beige */
  --foreground: #1a1a1a; /* deep neutral for text */
  --primary: #111111; /* brand banner black */
  --primary-hover: #2b2b2b; /* slightly lighter for hover */
  --sidebar-bg: #fff9ef; /* softer cream panels */
  --sidebar-border: #ead9bf; /* subtle beige border */
  --card-bg: #ffffff; /* strong contrast on cards */
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  --accent: #d9a441; /* brand gold accent */
  --sort-bg: #ffffff; /* white sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #ffffff; /* white arrow for visibility */
  --sort-selected-bg: var(--primary); /* default selected option bg (light) */
  --sort-selected-fg: #ffffff; /* default selected option text (light) */
  /* Sidebar width used for responsive content offset */
  --sidebar-width: 18rem;
}

/* Light theme (explicit) */
.light {
  --background: #faf4e8; /* airy warm beige */
  --foreground: #1a1a1a; /* deep neutral for text */
  --primary: #111111; /* brand banner black */
  --primary-hover: #2b2b2b; /* slightly lighter for hover */
  --sidebar-bg: #fff9ef; /* softer cream panels */
  --sidebar-border: #ead9bf; /* subtle beige border */
  --card-bg: #ffffff; /* strong contrast on cards */
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  --accent: #d9a441; /* brand gold accent */
  --sort-bg: #ffffff; /* white sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #ffffff; /* white arrow for visibility */
  --sort-selected-bg: var(--primary);
  --sort-selected-fg: #ffffff;
}

/* Dark theme (explicit) */
.dark {
  --background: #0f0f0f; /* deeper dark base */
  --foreground: #eae6df; /* soft warm light text */
  --primary: #caa977; /* brand gold, slightly muted */
  --primary-hover: #b99760; /* darker gold for hover */
  --sidebar-bg: #171717; /* elevated panel */
  --sidebar-border: #2a2a2a; /* subtle separation */
  --card-bg: #141414; /* card background */
  --card-shadow: 0 8px 26px rgba(0, 0, 0, 0.45);
  --accent: #caa977; /* align accent to primary in dark */
  --sort-bg: #2a2520; /* darker beige sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #ffffff; /* make sort arrow white in dark mode */
  --sort-selected-bg: var(--accent); /* beige selected option in dark */
  --sort-selected-fg: #1a1a1a; /* dark text on beige */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* System preference fallback (only when no explicit theme is set) */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    /* Dark fallback tuned to brand */
    --background: #0f0f0f;
    --foreground: #eae6df;
    --primary: #caa977;
    --primary-hover: #b99760;
    --sidebar-bg: #171717;
    --sidebar-border: #2a2a2a;
    --card-bg: #141414;
    --card-shadow: 0 8px 26px rgba(0, 0, 0, 0.45);
    --accent: #caa977;
    --sort-bg: #2a2520;
  }
}

/* Responsive sidebar width and content offset helpers */
@media (min-width: 768px) {
  :root {
    --sidebar-width: 18rem; /* md */
  }
  .content-offset-md {
    margin-left: calc(var(--sidebar-width) + 10px) !important;
  }
}

@media (min-width: 1024px) {
  :root {
    --sidebar-width: 20rem; /* lg */
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
  font-size: 0.85em; /* 15% reduction (100% - 15% = 85%) */
}

header {
  background: var(--sidebar-bg);
  color: var(--foreground);
  border-bottom: 1px solid var(--sidebar-border);
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease;
}

header .shadow-sm {
  box-shadow: var(--card-shadow);
}

header .rounded-lg {
  border-radius: 0.75rem;
}

header .backdrop-blur {
  backdrop-filter: blur(8px);
}

.navbar {
  width: 100%;
  background: var(--background);
  color: var(--foreground);
  border-bottom: 1px solid var(--sidebar-border);
  padding: 0.5rem 2rem;
  display: flex;
  align-items: center;
  gap: 2rem;
  position: sticky;
  top: 0;
  z-index: 50;
}

.navbar .navbar-title {
  font-size: 1.275rem; /* 1.5rem * 0.85 = 1.275rem */
  font-weight: bold;
  margin-right: 2rem;
}

.navbar .navbar-products {
  display: flex;
  gap: 1.5rem;
  flex-wrap: wrap;
}

.navbar .navbar-link {
  text-decoration: none;
  color: var(--primary);
  font-weight: 500;
  font-size: 0.935rem; /* 1.1rem * 0.85 = 0.935rem */
  font-family: var(--font-inter), "Segoe UI", "Roboto", sans-serif;
  transition: color 0.2s;
}

.navbar .navbar-link:hover {
  color: var(--primary-hover);
}

aside,
.sidebar,
.filters-sidebar {
  background: var(--sidebar-bg);
  color: var(--foreground);
  border-right: 1px solid var(--sidebar-border);
}

input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--primary);
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.18s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Form input focus states */
input:focus {
  outline: none;
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 3px rgba(184, 149, 106, 0.1);
}

/* Input field styling for both light and dark modes */
input[type="text"],
input[type="email"],
input[type="password"],
.auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="password"]::placeholder,
.auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Dark mode specific input styling */
.dark input[type="text"],
.dark input[type="email"],
.dark input[type="password"],
.dark .auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

.dark input[type="text"]::placeholder,
.dark input[type="email"]::placeholder,
.dark input[type="password"]::placeholder,
.dark .auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Light mode specific input styling */
.light input[type="text"],
.light input[type="email"],
.light input[type="password"],
.light .auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

.light input[type="text"]::placeholder,
.light input[type="email"]::placeholder,
.light input[type="password"]::placeholder,
.light .auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Auth page specific styles */
.auth-container {
  background: var(--background);
  color: var(--foreground);
}

.auth-form {
  background: var(--card-bg);
  border: 1px solid var(--sidebar-border);
  border-radius: 0.75rem;
  padding: 2rem;
  box-shadow: var(--card-shadow);
}

/* Search input styling for dark theme */
@media (prefers-color-scheme: dark) {
  input[type="text"] {
    color: #ffffff !important;
  }

  input[type="text"]::placeholder {
    color: #cccccc !important;
  }
}

/* Custom breakpoint for screens from 1024px down to small */
@media (max-width: 1023px) {
  .mb-1024-down {
    margin-bottom: 0.75rem !important;
  }
}

/* Tablet-specific adjustments (768px to 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  .tablet-title-margin {
    margin-bottom: 1rem !important; /* 16px */
  }

  .tablet-padding {
    padding: 1rem !important; /* 16px */
  }
}

/* Large tablet and small desktop (1024px to 1280px) */
@media (min-width: 1024px) and (max-width: 1280px) {
  .large-tablet-title-margin {
    margin-bottom: 1.5rem !important; /* 24px */
  }
}

/* Ensure selected sort option is styled and always elliptical */
.light [role="listbox"] [role="option"][aria-selected="true"],
.light button[data-sort-selected="true"] {
  color: var(--sort-selected-fg) !important;
  background: var(--sort-selected-bg) !important;
  border-radius: 9999px !important; /* rounded-full - always elliptical */
}

/* Always elliptical for all sort options for visual consistency */
[role="listbox"] [role="option"] {
  border-radius: 9999px; /* rounded-full - always elliptical */
}

/* Force elliptical styling for sort button in light mode with higher specificity */
.light button[data-sort-selected="true"] {
  border-radius: 9999px !important; /* Force elliptical */
}

/* Force elliptical styling for all sort buttons regardless of theme */
button[data-sort-selected="true"] {
  border-radius: 9999px !important; /* Force elliptical */
}

/* Additional override for any potential Tailwind conflicts */
.rounded-full {
  border-radius: 9999px !important;
}

/* Ultra-specific override for sort button */
button[data-sort-selected="true"].rounded-full {
  border-radius: 9999px !important;
}

/* Force elliptical for sort button with maximum specificity */
.light button[data-sort-selected="true"].rounded-full {
  border-radius: 9999px !important;
}

/* Override any potential conflicting styles */
button[data-sort-selected="true"] {
  border-radius: 9999px !important;
}

/* Dark mode selected option visuals */
.dark [role="listbox"] [role="option"][aria-selected="true"],
.dark button[data-sort-selected="true"] {
  background: var(--sort-selected-bg) !important;
  color: var(--sort-selected-fg) !important;
}

/* Force white arrow in both light and dark modes for visibility */
button[data-sort-selected="true"] svg,
.light button[data-sort-selected="true"] svg,
.dark button[data-sort-selected="true"] svg,
button[data-sort-selected="true"] svg[style*="color"],
.light button[data-sort-selected="true"] svg[style*="color"],
.dark button[data-sort-selected="true"] svg[style*="color"] {
  color: #ffffff !important;
  stroke: #ffffff !important;
}
