@import "tailwindcss";

/* Cart merge notification animations */
@keyframes slide-in-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-out-right {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

.animate-slide-out-right {
  animation: slide-out-right 0.3s ease-in;
}

:root {
  /* Light theme base (refined) */
  --background: #faf4e8; /* airy warm beige */
  --foreground: #1a1a1a; /* deep neutral for text */
  --primary: #111111; /* brand banner black */
  --primary-hover: #2b2b2b; /* slightly lighter for hover */
  --sidebar-bg: #fff9ef; /* softer cream panels */
  --sidebar-border: #ead9bf; /* subtle beige border */
  --card-bg: #ffffff; /* strong contrast on cards */
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  --accent: #d9a441; /* brand gold accent */
  --sort-bg: #ffffff; /* white sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #ffffff; /* white arrow for visibility */
  --sort-selected-bg: var(--primary); /* default selected option bg (light) */
  --sort-selected-fg: #ffffff; /* default selected option text (light) */
  /* Sidebar width used for responsive content offset */
  --sidebar-width: 18rem;
}

/* Light theme (explicit) */
.light {
  --background: #faf4e8; /* airy warm beige */
  --foreground: #1a1a1a; /* deep neutral for text */
  --primary: #111111; /* brand banner black */
  --primary-hover: #2b2b2b; /* slightly lighter for hover */
  --sidebar-bg: #fff9ef; /* softer cream panels */
  --sidebar-border: #ead9bf; /* subtle beige border */
  --card-bg: #ffffff; /* strong contrast on cards */
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
  --accent: #d9a441; /* brand gold accent */
  --sort-bg: #ffffff; /* white sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #ffffff; /* white arrow for visibility */
  --sort-selected-bg: var(--primary);
  --sort-selected-fg: #ffffff;
  --muted-foreground: #6b7280; /* muted text for secondary content */
  --destructive: #dc2626; /* red for errors */
  --success: #16a34a; /* green for success states */
  --info-bg: #eff6ff; /* light blue background for info */
  --info-border: #bfdbfe; /* light blue border for info */
  --info-text: #1e40af; /* dark blue text for info */
  --success-bg: #f0fdf4; /* light green background for success */
  --success-border: #bbf7d0; /* light green border for success */
  --success-text: #166534; /* dark green text for success */
}

/* Dark theme (explicit) - Improved muted colors */
.dark {
  --background: #121212; /* softer dark base instead of pure black */
  --foreground: #e5e5e5; /* off-white text to reduce eye strain */
  --primary: #a68b5b; /* muted gold - 30% less saturated */
  --primary-hover: #8f7a4f; /* darker muted gold for hover */
  --sidebar-bg: #1e1e1e; /* elevated panel with subtle warmth */
  --sidebar-border: #333333; /* subtle separation with better contrast */
  --card-bg: #1a1a1a; /* card background with slight elevation */
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
  --accent: #a68b5b; /* align accent to primary in dark */
  --sort-bg: #2a2a2a; /* neutral dark sort background */
  --sort-border-radius: 9999px; /* elliptical sort button */
  --sort-arrow-color: #e5e5e5; /* off-white arrow for better visibility */
  --sort-selected-bg: var(--accent); /* muted gold selected option */
  --sort-selected-fg: #1a1a1a; /* dark text on muted gold */
  --muted-foreground: #a0a0a0; /* muted text for secondary content */
  --destructive: #dc2626; /* muted red for errors */
  --success: #16a34a; /* muted green for success states */
  --info-bg: #1e3a8a; /* dark blue background for info */
  --info-border: #3b82f6; /* blue border for info */
  --info-text: #dbeafe; /* light blue text for info */
  --success-bg: #14532d; /* dark green background for success */
  --success-border: #22c55e; /* green border for success */
  --success-text: #dcfce7; /* light green text for success */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* System preference fallback (only when no explicit theme is set) */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    /* Dark fallback with muted colors */
    --background: #121212; /* softer dark base */
    --foreground: #e5e5e5; /* off-white text */
    --primary: #a68b5b; /* muted gold */
    --primary-hover: #8f7a4f; /* darker muted gold */
    --sidebar-bg: #1e1e1e; /* elevated panel */
    --sidebar-border: #333333; /* subtle separation */
    --card-bg: #1a1a1a; /* card background */
    --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
    --accent: #a68b5b; /* muted gold accent */
    --sort-bg: #2a2a2a; /* neutral dark sort background */
    --muted-foreground: #a0a0a0; /* muted text */
    --destructive: #dc2626; /* muted red */
    --success: #16a34a; /* muted green */
    --info-bg: #1e3a8a; /* dark blue background for info */
    --info-border: #3b82f6; /* blue border for info */
    --info-text: #dbeafe; /* light blue text for info */
    --success-bg: #14532d; /* dark green background for success */
    --success-border: #22c55e; /* green border for success */
    --success-text: #dcfce7; /* light green text for success */
  }
}

/* Responsive sidebar width and content offset helpers */
@media (min-width: 768px) {
  :root {
    --sidebar-width: 18rem; /* md */
  }
  .content-offset-md {
    margin-left: calc(var(--sidebar-width) + 10px) !important;
  }
}

@media (min-width: 1024px) {
  :root {
    --sidebar-width: 20rem; /* lg */
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
  font-size: 0.85em; /* 15% reduction (100% - 15% = 85%) */
  /* Improve touch interactions on mobile */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Ensure buttons work properly on mobile */
button,
a[role="button"] {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
}

/* Improve touch target sizes on mobile */
@media (max-width: 768px) {
  button,
  a[role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Button hover effects for destructive and success variants */
button[style*="--destructive"]:hover {
  background: var(--hover-bg, rgba(220, 38, 38, 0.8)) !important;
}

button[style*="--success"]:hover {
  background: var(--hover-bg, rgba(22, 163, 74, 0.8)) !important;
}

header {
  background: var(--sidebar-bg);
  color: var(--foreground);
  border-bottom: 1px solid var(--sidebar-border);
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease;
}

header .shadow-sm {
  box-shadow: var(--card-shadow);
}

header .rounded-lg {
  border-radius: 0.75rem;
}

header .backdrop-blur {
  backdrop-filter: blur(8px);
}

.navbar {
  width: 100%;
  background: var(--background);
  color: var(--foreground);
  border-bottom: 1px solid var(--sidebar-border);
  padding: 0.5rem 2rem;
  display: flex;
  align-items: center;
  gap: 2rem;
  position: sticky;
  top: 0;
  z-index: 50;
}

.navbar .navbar-title {
  font-size: 1.275rem; /* 1.5rem * 0.85 = 1.275rem */
  font-weight: bold;
  margin-right: 2rem;
}

.navbar .navbar-products {
  display: flex;
  gap: 1.5rem;
  flex-wrap: wrap;
}

.navbar .navbar-link {
  text-decoration: none;
  color: var(--primary);
  font-weight: 500;
  font-size: 0.935rem; /* 1.1rem * 0.85 = 0.935rem */
  font-family: var(--font-inter), "Segoe UI", "Roboto", sans-serif;
  transition: color 0.2s;
}

.navbar .navbar-link:hover {
  color: var(--primary-hover);
}

aside,
.sidebar,
.filters-sidebar {
  background: var(--sidebar-bg);
  color: var(--foreground);
  border-right: 1px solid var(--sidebar-border);
}

input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--primary);
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.18s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Form input focus states */
input:focus {
  outline: none;
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 3px rgba(184, 149, 106, 0.1);
}

/* Input field styling for both light and dark modes */
input[type="text"],
input[type="email"],
input[type="password"],
.auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="password"]::placeholder,
.auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Dark mode specific input styling */
.dark input[type="text"],
.dark input[type="email"],
.dark input[type="password"],
.dark .auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

.dark input[type="text"]::placeholder,
.dark input[type="email"]::placeholder,
.dark input[type="password"]::placeholder,
.dark .auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Light mode specific input styling */
.light input[type="text"],
.light input[type="email"],
.light input[type="password"],
.light .auth-input {
  background-color: var(--card-bg) !important;
  color: var(--foreground) !important;
  border-color: var(--sidebar-border) !important;
}

.light input[type="text"]::placeholder,
.light input[type="email"]::placeholder,
.light input[type="password"]::placeholder,
.light .auth-input::placeholder {
  color: var(--foreground);
  opacity: 0.6;
}

/* Auth page specific styles */
.auth-container {
  background: var(--background);
  color: var(--foreground);
}

.auth-form {
  background: var(--card-bg);
  border: 1px solid var(--sidebar-border);
  border-radius: 0.75rem;
  padding: 2rem;
  box-shadow: var(--card-shadow);
}

/* Search input styling for dark theme */
@media (prefers-color-scheme: dark) {
  input[type="text"] {
    color: #ffffff !important;
  }

  input[type="text"]::placeholder {
    color: #cccccc !important;
  }
}

/* Custom breakpoint for screens from 1024px down to small */
@media (max-width: 1023px) {
  .mb-1024-down {
    margin-bottom: 0.75rem !important;
  }
}

/* Tablet-specific adjustments (768px to 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  .tablet-title-margin {
    margin-bottom: 1rem !important; /* 16px */
  }

  .tablet-padding {
    padding: 1rem !important; /* 16px */
  }
}

/* Large tablet and small desktop (1024px to 1280px) */
@media (min-width: 1024px) and (max-width: 1280px) {
  .large-tablet-title-margin {
    margin-bottom: 1.5rem !important; /* 24px */
  }
}

/* Ensure selected sort option is styled and always elliptical */
.light [role="listbox"] [role="option"][aria-selected="true"],
.light button[data-sort-selected="true"] {
  color: var(--sort-selected-fg) !important;
  background: var(--sort-selected-bg) !important;
  border-radius: 9999px !important; /* rounded-full - always elliptical */
}

/* Always elliptical for all sort options for visual consistency */
[role="listbox"] [role="option"] {
  border-radius: 9999px; /* rounded-full - always elliptical */
}

/* Force elliptical styling for sort button in light mode with higher specificity */
.light button[data-sort-selected="true"] {
  border-radius: 9999px !important; /* Force elliptical */
}

/* Force elliptical styling for all sort buttons regardless of theme */
button[data-sort-selected="true"] {
  border-radius: 9999px !important; /* Force elliptical */
}

/* Additional override for any potential Tailwind conflicts */
.rounded-full {
  border-radius: 9999px !important;
}

/* Ultra-specific override for sort button */
button[data-sort-selected="true"].rounded-full {
  border-radius: 9999px !important;
}

/* Force elliptical for sort button with maximum specificity */
.light button[data-sort-selected="true"].rounded-full {
  border-radius: 9999px !important;
}

/* Override any potential conflicting styles */
button[data-sort-selected="true"] {
  border-radius: 9999px !important;
}

/* Dark mode selected option visuals */
.dark [role="listbox"] [role="option"][aria-selected="true"],
.dark button[data-sort-selected="true"] {
  background: var(--sort-selected-bg) !important;
  color: var(--sort-selected-fg) !important;
}

/* Force white arrow in both light and dark modes for visibility */
button[data-sort-selected="true"] svg,
.light button[data-sort-selected="true"] svg,
.dark button[data-sort-selected="true"] svg,
button[data-sort-selected="true"] svg[style*="color"],
.light button[data-sort-selected="true"] svg[style*="color"],
.dark button[data-sort-selected="true"] svg[style*="color"] {
  color: #ffffff !important;
  stroke: #ffffff !important;
}
